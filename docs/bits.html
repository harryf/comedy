---
layout: default
title: Comedy Bits
---

<div class="home">
  <div class="bits-container">
    <h1 align="center">All Comedy Bits</h1>
    
    {% assign all_bits = site.bits | sort: "date_of_show" | reverse %}
    
    {% comment %}
    First, create a hash to group bits by canonical name and find the most recent version
    {% endcomment %}
    {% assign canonical_bits = "" | split: "" %}
    {% assign processed_canonical_names = "" | split: "" %}
    
    {% for bit in all_bits %}
      {% unless processed_canonical_names contains bit.canonical_name %}
        {% assign processed_canonical_names = processed_canonical_names | push: bit.canonical_name %}
        {% assign canonical_bits = canonical_bits | push: bit %}
      {% endunless %}
    {% endfor %}
    
    {% assign sorted_canonical_bits = canonical_bits | sort: "canonical_name" %}
    
    <div class="bit-list">
      {% for bit in sorted_canonical_bits %}
        <div class="bit-card">
          <div>
            <h3><a href="{{ site.baseurl }}/bits/{{ bit.bit_id }}" class="bit-card-link">{{ bit.canonical_name }}</a></h3>
            <ul class="bit-details">
              <li class="date">
                <i class="fas fa-calendar-alt"></i>
                {{ bit.date_of_show }}
              </li>
              <li class="duration">
                <i class="fas fa-clock"></i>
                {{ bit.duration }}
              </li>
              <li class="lpm">
                <i class="fas fa-smile"></i>
                {{ bit.lpm }} lpm
              </li>
            </ul>
            {% if bit.notes and bit.notes != "" %}
              <p class="notes">
                {{ bit.notes }}
              </p>
            {% endif %}
            
            {% if bit.joke_types.size > 0 %}
              <div class="joke-types">
                <span class="label">Joke Types:</span>
                {% for type in bit.joke_types %}
                  <span class="tag">{{ type }}</span>
                {% endfor %}
              </div>
            {% endif %}
            
            {% if bit.themes.size > 0 %}
              <div class="themes">
                <span class="label">Themes:</span>
                {% for theme in bit.themes %}
                  <span class="tag">{{ theme }}</span>
                {% endfor %}
              </div>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>

<style>
  .bit-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 20px;
  }
  
  .bit-card {
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 15px;
    background-color: #fff;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    height: 100%;
  }
  
  .bit-card h3 {
    margin-top: 0;
    margin-bottom: 10px;
  }
  
  .bit-card-link {
    color: #333;
    text-decoration: none;
  }
  
  .bit-card-link:hover {
    color: #0366d6;
  }
  
  .bit-details {
    list-style: none;
    padding: 0;
    margin: 0 0 15px 0;
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
  }
  
  .bit-details li {
    display: flex;
    align-items: center;
    font-size: 0.9rem;
    color: #666;
  }
  
  .bit-details i {
    margin-right: 5px;
    color: #0366d6;
  }
  
  .notes {
    font-size: 0.9rem;
    color: #555;
    margin-bottom: 15px;
  }
  
  .joke-types, .themes {
    margin-bottom: 10px;
    font-size: 0.85rem;
  }
  
  .label {
    font-weight: 600;
    margin-right: 5px;
    color: #555;
  }
  
  .tag {
    display: inline-block;
    background-color: #f1f8ff;
    border: 1px solid #c8e1ff;
    border-radius: 3px;
    padding: 2px 6px;
    margin: 2px;
    font-size: 0.8rem;
    color: #0366d6;
  }
  
  .listen-button {
    display: inline-flex;
    align-items: center;
    background-color: #0366d6;
    color: white;
    padding: 8px 12px;
    border-radius: 4px;
    text-decoration: none;
    font-size: 0.9rem;
    margin-top: auto;
    align-self: flex-start;
  }
  
  .listen-button i {
    margin-right: 5px;
  }
  
  .listen-button:hover {
    background-color: #0056b3;
    text-decoration: none;
    color: white;
  }
  
  .mt-4 {
    margin-top: 1rem;
  }
</style>
